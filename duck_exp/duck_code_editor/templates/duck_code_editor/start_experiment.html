<!-- duck_code_editor/templates/duck_code_editor/start_experiment.html -->
{% extends 'duck_exp/base.html' %}

{% block content %}
<div class="container">
  <h2>Welcome to the Experiment</h2>

  <p>Please select your study ID from the dropdown below:</p>

  <form method="post" action="{% url 'duck_code_editor:start_experiment' %}">
    {% csrf_token %}
    {% if not random_name %}
      <label for="study_id">Select your assigned study id:</label>
      <select id="study_id" name="study_id" class="form-select" required>
        {% for id in available_ids %}
        <option value="{{ id }}">{{ id }}</option>
        {% endfor %}
      </select>
    </span>

    <div>
      <small class="text-muted">My id is not available, generate a random one instead:</small>
      <button class="btn btn-link btn-sm" name="generate" type="submit">Generate</button>
    </div>

    {% else %}
    <div style="margin-bottom:30px;">
    Your study id is: 
    <i id="study_id" value={{random_name}}>
      {{ random_name }}
    </i>
    </div>
    {% endif %}

    <button class="btn btn-secondary" style="display: block" type="submit">
      Submit
    </button>
  </form>
</div>
{% endblock %}
