<!-- duck_code_editor/templates/duck_code_editor/start_experiment.html -->
{% extends 'duck_exp/base.html' %}

{% block content %}
<div class="container">
  <h2>Debugging in Python: A Controlled Experiment</h2>
  <p>Thank you for participating in our research. Your answers to this form are crucial in giving us sufficient data to work with. The entire experiment consists of six debugging tasks + one short tutorial task, as well as a short questionnaire after each task and a longer questionnaire at the end. These tutorial messages will give you instructions as you go. The only thing you should take care of now is that you are alone and have the time to finish the experiment in one go. The whole experiment should maximally take 75 minutes.</p>

  <p><b>Please select the id that Anastasia has e-mailed to you earlier this month. </b></p>

  <form method="post" action="{% url 'duck_code_editor:start_experiment' %}">
    {% csrf_token %}
    {% if not random_name %}
      <label for="study_id">Your id:</label>
      <select id="study_id" name="study_id" class="form-select" required>
        {% for id in available_ids %}
        <option value="{{ id }}">{{ id }}</option>
        {% endfor %}
      </select>
    </span>

    <div>
      <small> In case you are not entirely sure which id you have been assigned to or your id is unexpectedly not available anymore, generate a random one. Please write down the generated id and send it to Anastasia. </small>
      <button class="btn btn-link btn-sm" name="generate" type="submit">Generate random id</button> 
    </div>

    {% else %}
    <div style="margin-bottom:30px;">
    Your id: 
    <i value={{random_name}}>
      {{ random_name }}
    </i>
    <p> Please send an e-mail to Anastasia with this id. </p>
    </div>
    {% endif %}

    <p style="margin-top: 30px;"> Once again, thank you for taking the time to help us out! </p>

    <button class="btn btn-secondary" style="display: block" type="submit">
      Start
    </button>
  </form>
</div>
{% endblock %}
